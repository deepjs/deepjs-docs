<!DOCTYPE html>
<html lang="fr">
	<!--  @author Gilles Coomans <gilles.coomans@gmail.com> -->
	<head>
		<title>deepjs docs</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="./highlight/styles/github.css">
		<link rel="stylesheet" href="./bower_components/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" type="text/css" href="./css/common.css">
		<link rel="stylesheet" type="text/css" href="./css/dp-try.css">
		<link rel="stylesheet" type="text/css" href="./css/style.css">
	</head>
	<body>
		<div id="header">
			<div class="logo">deep<span style="font-size:25px; color:#ccc;">js</span></div>
		</div>
		<div id="navi">
			<div id="menu-container" class="top-header">
				<div id="menu">
					<i class="glyphicon glyphicon-cog small"></i>
					<ul>
						<li><a href="#">restful&nbsp;stores</a></li>
						<li><a href="#">deep&nbsp;chain</a></li>
					</ul>
				</div>
			</div>
		</div>
		<!-- *************************************** EXAMPLES -->
		<div id="content">
			<div id="submenu" class="submenu-moving">
				<div class="dp-box shadowed submenu-block">
					<ul>
						<li><a href="#examples-chains">chaines</a></li>
						<li><a href="#examples-collection">collection &amp; protocol</a></li>
						<li><a href="#examples-rest">collection &amp; restufl</a></li>
						<li><a href="#examples-view">views</a></li>
						<li><a href="#examples-modelisation">simple modelisation</a></li>
					</ul>
				</div>
				<div class="dp-box shadowed submenu-block">
					Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
					tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam.
				</div>
			</div>
			<div class="section examples">
				<div id="reports-container"></div>
				<div class="instructions">
					<h3 id="examples-chains">Chain examples</h3>
					<div class="dp-example">
<pre dp-try class="dp-box code">
deep(1).log();
</pre>
					</div>
					<div class="dp-example">
<pre dp-try class="dp-box code">
deep([1,2,3]).log();
</pre>
					</div>
					<div class="dp-example">
<pre dp-try class="dp-box code">
deep([1,2,3]).query("./*").log();
</pre>
					</div>
					<div class="dp-example">
<pre dp-try class="dp-box code">
deep([1,2,3]).query("./0").log();
</pre>
					</div>
				</div>
				<h3 id="examples-collection">Collection through protocol</h3>
				<div class="row">
					<div class="col-sm-12 col-md-4">I'm on the left</div>
					<div class="col-sm-12 col-md-8">
						<div class="dp-example">
<pre dp-try class="dp-box code">
deep.Collection("mycollec", [{ id:"e1", title:"hello world" }]);
//...
deep("mycollec::").log();
</pre>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12 col-md-4">I'm on the left</div>
					<div class="col-sm-12 col-md-8">
						<div class="dp-example">
<pre dp-try class="dp-box code">
deep.Collection("mycollec", [{ id:"e1", title:"hello world" }]);
//...
deep("mycollec::").query("./0").log();
</pre>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-sm-12 col-md-4">I'm on the left</div>
					<div class="col-sm-12 col-md-8">
						<div class="dp-example">
<pre dp-try class="dp-box code">
deep.Collection("mycollec", [{ id:"e1", title:"hello world" }]);
//...
deep("mycollec::e1").log();
</pre>
						</div>
					</div>
				</div>
				
				<h3 id="examples-rest">Restful API usage</h3>
				<p>Post : The object is decorated by generated id. (you could provide yours)</p>
				<div class="dp-example">
<pre dp-try class="dp-box code">
deep.Collection("mycollec", [{ id:"e1", title:"hello world" }]);
//...
deep.rest("mycollec")
.post({ title:"new posted object title"})
.log("> post result : ")
.post({ title:"new posted object title 2", id:"e2" })
.log("> post result : ")
.get()
.log("> all items from collection (after) : ");
</pre>
				</div>
				<p>Put : replaces entirely the old entry by the new one. Some datas could be lost.</p>
				<div class="dp-example">
<pre dp-try class="dp-box code">
deep.Collection("mycollec", [{ id:"e1", title:"hello world", amount:3 }]);
//...
deep.rest("mycollec")
.get()
.log("> all items from Collection (before) : ")
.put({ id:"e1", title:"hello deepjs"})
.log("> put result : ")
.get()
.log("> all items from Collection (after) : ");
</pre>
				</div>
				<p>Patch : updates only provided properties.</p>
				<div class="dp-example">
<pre dp-try class="dp-box code">
deep.Collection("mycollec", [{ id:"e1", title:"hello world", amount:3 }]);
//...
deep.rest("mycollec")
.get()
.log("> all items from Collection (before) : ")
.patch({ id:"e1", title:"hello deepjs"})
.log("> patch result : ")
.get()
.log("> all items from Collection (after) : ");
</pre>
				</div>
				<p>Error management. use .slog (success log) and .elog (error log) to log properly error.</p>
				<div class="dp-example">
<pre dp-try class="dp-box code">
deep.Collection("mycollec", [{ id:"e1", title:"hello world", amount:3 }]);
//...
deep.rest("mycollec")
.get()
.slog("> all items from Collection : ")
.put({ id:"e3", title:"hello deepjs"})
.slog("> put result : ")
.get()
.slog("> all items from Collection : ")
.elog("error : ");
</pre>
				</div>
				<h3 id="examples-view">Views</h3>
				<div class="dp-example">
					<div id="view-example" class="dp-try-view">Nothing yet.</div>
<pre dp-try class="dp-box code" view="#view-example">
deep.View({
how:'&lt;div&gt;hello&lt;/div&gt;',
where:'dom.htmlOf::#view-example'
})
.refresh()
.log();
</pre>
				</div>
				<h3 id="examples-modelisation">Modelisation example</h3>
				<div class="row">
					<div class="col-sm-12 col-md-6">
						<div class="dp-example">
<pre dp-try class="dp-box code">
//-----------------Models
var land = {
location : "pls override this value with your own location",
watering : function () {
console.log("Water is applied on all the land");
}
};
//-----------------Aspects
var orchard = {
plants : [{id:"appletree",growSpeed:10}],
watering : deep.compose.after(function () {
console.log("We put some mulch after watering");
})
};
var kitchenGarden = {
plants : [{id:"carrots",growSpeed:6}],
watering : deep.compose.before(function () {
console.log("We protect seedlings before watering");
})
};
//-----------------Implement
var myOwnLand = {
location : "Sao Francisco do Guapor√©",
plants : [{id:"grass",growSpeed:2}]
};
deep(myOwnLand)
.bottom(land)
.up(orchard, kitchenGarden)
//Query based object modelisation
.query("/plants/*")
.up({
size : 0,
grow : function () {
this.size += this.growSpeed;
},
prune : function (heightpruned) {
this.size -= heightpruned;
}
});
deep(myOwnLand).log("myOwnLand is : ");
</pre>
						</div>
					</div>
					<div class="col-sm-12 col-md-6">Lorem ipsum dolor sit amet.</div>
				</div>
			</div>
		</div>
		<div id="footer">
			&nbsp;
		</div>
		<script src="./highlight/highlight.pack.js"></script>
		<script src="./bower_components/jquery/jquery.min.js"></script>
		<script src="./bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="./bower_components/jstorage/jstorage.min.js"></script>
		<script data-main="main" src="./bower_components/requirejs/require.js"></script>
		
	</body>
</html>